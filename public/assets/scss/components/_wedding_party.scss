$hue: 241;

$distance: 0;
$color: hsl($hue, 100%, 59%);
$accent: hsl( ($hue + $distance), 100%, 50%);
$grey: #ddd;
$sans: $primary-font;
$ease-in-out: cubic-bezier(0.645, 0.045, 0.355, 1.000);
$short: 300ms;
$mid: 500ms;
$long: 800ms;

.wrap{
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%,-50%,0);
    color: $color;
    width: 500rem;
    height: 450rem;
    &.member-selected{
        .member:not(.selected){
            opacity: 0;
            pointer-events: none;
            transform: perspective(100rem)translateZ(-50rem);
            transition: opacity $short $ease-in-out, transform $long $ease-in-out, height $mid $ease-in-out;
        }
        .instructions .first {
            opacity: 0;
        }
        .calendar{
            .date{
                transform: scale(0.5) translateY(-5rem) translateX(0rem);
                opacity: 0;
            }
        }
    }
}

.instructions{
    margin-bottom: 25rem;
    text-align: center;
    height: 80vh;
    font-weight: 300;
    color: $color;
    > *{
        transition: opacity $short $ease-in-out;
    }
}

.deselect-member, .deselect-date, .deselect-slot{
    position: absolute;
    color: $grey;
    top: 35rem;
    right: 25rem;
    z-index: 10;
    display: inline-block;
    font-size: 20rem;
    cursor: pointer;
    opacity: 0;
    pointer-events: none;
    transition: opacity $short $ease-in-out;
    font-weight: 100;
}
.deselect-date{
    top: 95rem;
}
.deselect-slot{
    top: 145rem;
}

.member{
    background: white;
    width: 100%;
    padding: 20rem;
    height: 100rem;
    cursor: pointer;
    position: absolute;
    top: 0;
    transition: opacity $long $ease-in-out, transform $mid $ease-in-out, height $short $ease-in-out, box-shadow $long $ease-in-out;
    box-shadow: 5rem 5rem 20rem rgba($color, 0.15);
    overflow: hidden;
    .name{
        display: inline-block;
        margin-left: 85rem;
        line-height: 60rem;
        transform-origin: 0% 0%;
        transition: transform $mid $ease-in-out;
        font-weight: 100;
        font-size: 40rem;
    }
    .avatar{
        transform-origin: 100% 0%;
        width: 70rem;
        height: 70rem;
        border-radius: 100rem;
        display: inline-block;
        position: absolute;
        top: 15rem;
        left: 15rem;
        background-size: cover;
        filter: saturate(50%) contrast(120%);
        transition: transform $mid $ease-in-out;
        &:after{
            content: '';
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 100rem;
            background-color: $color;
            mix-blend-mode: lighten;
        }
    }
    &:nth-child(1){
        transform: translateY(70rem) perspective(100rem) translateZ(-10rem);
    }
    &:nth-child(2){
        transform: translateY(170rem) perspective(100rem) translateZ(-10rem);
    }
    &:nth-child(3){
        transform: translateY(270rem) perspective(100rem) translateZ(-10rem);
    }
    &:nth-child(4){
        transform: translateY(370rem) perspective(100rem) translateZ(-10rem);
    }
    &.selected{
        transform: translateY(0rem) perspective(100rem) translateZ(0rem);
        height: 450rem;
        cursor: default;
        z-index: 2;
        box-shadow: 10rem 10rem 60rem rbga(darken($color, 20%), 0.1);
        transition: opacity $short $ease-in-out, transform $long $ease-in-out, height $mid $ease-in-out, box-shadow $long $ease-in-out;
        .deselect-member{
            opacity: 1;
            pointer-events: auto;
        }
        .name, .avatar{
            transform: scale(0.7) translateX(-30rem);
        }
        .calendar{
            height: 340rem;
            transform: translateY(0rem);
            transition: opacity $mid $ease-in-out, transform $mid $ease-in-out, height $long $ease-in-out;
            opacity: 1;
        }
    }
}

.calendar{
    width: 100%;
    margin-top: 0rem;
    height: 0;
    opacity: 0;
    transition: opacity $short $ease-in-out, transform $short $ease-in-out, height $short $ease-in-out;
    font-size: 17rem;
    border-top: 1px solid rgba($grey, 0.8);
    .date, .month, .year{
        position: absolute;
        top: 15rem;
        left: 65rem;
        font-size: 50rem;
        display: inline-block;
        font-weight: 100;
        transition: opacity $short $ease-in-out, transform $mid $ease-in-out;
        transform-origin: 100% 0%;
        transform: translateX(0) scale(1);
    }
    .year{
        transform: translateX(80rem) scale(1);
    }    
}
