<div class="onecol event_list__flex">
	<div class="solid-bar"></div>
	<ul class="flex_container">
		<li class="flex_item item1">
			<form name="registryForm" action="/charge.php" method="POST">
        <input type="hidden" name="item1" id="item1" value="item1"/>
        <script async
          src="https://checkout.stripe.com/checkout.js" class="stripe-button"
          data-key="pk_test_sa0wFaYe9Qvra5z0uTIdHUKk"
          data-amount="999"
          data-name="Kyle &amp; Chelsea"
          data-description="Widget"
          data-zip-code="true"
          data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
          data-locale="auto">
        </script>
      </form>
		</li>
		<li class="flex_item item2">
      <form name="registryForm2" action="/charge.php" method="POST">
        <input type="hidden" name="item2" id="item2" value="item2" />
          <script async
            src="https://checkout.stripe.com/checkout.js" class="stripe-button"
            data-key="pk_test_sa0wFaYe9Qvra5z0uTIdHUKk"
            data-amount="5000"
            data-name="Kyle &amp; Chelsea"
            data-description="Widget"
            data-zip-code="true"
            data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
            data-locale="auto">
          </script>
      </form>
    </li>
    <li class="flex_item item3">
			<form name="registryForm3" action="/charge.php" method="POST">
        <input type="hidden" name="item3" id="item3" value="item3"/>
        <script async
          src="https://checkout.stripe.com/checkout.js" class="stripe-button"
          data-key="pk_test_sa0wFaYe9Qvra5z0uTIdHUKk"
          data-amount="4000"
          data-name="Kyle &amp; Chelsea"
          data-description="Widget"
          data-zip-code="true"
          data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
          data-locale="auto">
        </script>
      </form>
		</li>
     <li class="flex_item item4">
			<form name="registryForm4" action="/charge.php" method="POST">
        <input type="hidden" name="item4" id="item4" value="item4"/>
        <script async
          src="https://checkout.stripe.com/checkout.js" class="stripe-button"
          data-key="pk_test_sa0wFaYe9Qvra5z0uTIdHUKk"
          data-amount="4000"
          data-name="Kyle &amp; Chelsea"
          data-description="Widget"
          data-zip-code="true"
          data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
          data-locale="auto">
        </script>
      </form>
		</li>
      <li class="flex_item item5">
			<form name="registryForm5" action="/charge.php" method="POST">
        <input type="hidden" name="item5" id="item5" value="item5"/>
        <input type="text" id="amount" name="amount"/>
        <input type="hidden" id="stripeToken" name="stripeToken"/>
        <input type="hidden" id="stripeEmail" name="stripeEmail"/>
      </form>
      <button class="stripe-button-el" id="customButton"><span style="display: block; min-height: 30px'">Purchase</span></button>
		</li>
	</ul>
</div>
<script>
     var handler = StripeCheckout.configure({
	key: 'pk_test_sa0wFaYe9Qvra5z0uTIdHUKk',
	image: 'https://stripe.com/img/documentation/checkout/marketplace.png',
	token: function(token) {
		$("#stripeToken").val(token.id);
		$("#stripeEmail").val(token.email);
		$("#myForm").submit();
	}
});

$("#customButton").on('click', function(e) {
	var amount = $("#amount").val() * 100;
	if (amount !== 0 ) {
		handler.open({
			name: 'Kyle & Chelsea',
			description: 'Test',
			amount: amount
		});
	}
	e.preventDefault();
});

$(window).on('popstate', function() {
	handler.close();
});
</script>